<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>登录</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="robots" content="all,follow">
		<!-- Bootstrap CSS-->
		<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
		<!-- Font Awesome CSS-->
		<link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
		<!-- Custom icon font-->
		<link rel="stylesheet" href="css/fontastic.css">
		<!-- Google fonts - Open Sans-->
		<!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700"> -->
		<!-- Fancybox-->
		<link rel="stylesheet" href="vendor/fancyapps/fancybox/jquery.fancybox.min.css">
		<!-- theme stylesheet-->
		<link rel="stylesheet" href="css/style.default.css" id="theme-stylesheet">
		<!-- Custom stylesheet - for your changes-->
		<link rel="stylesheet" href="css/custom.css">
		<!--引入网页标题图片-->
		<link rel="shortcut icon" href="img/favicon.ico">
		
		<!-- font files  -->
		<link href='http://fonts.useso.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>
		<link href='http://fonts.useso.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
		<!-- /font files  -->
		<!-- css files -->
		<link href="css/loginstyle.css" rel='stylesheet' type='text/css' media="all" />
		<!-- /css files -->
		<!-- Tweaks for older IEs-->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
			[endif]-->
		<!-- JavaScript files-->
		<script src="vendor/jquery/jquery.min.js"></script>
		<script src="vendor/popper.js/umd/popper.min.js"> </script>
		<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
		<script src="vendor/jquery.cookie/jquery.cookie.js"> </script>
		<script src="vendor/fancyapps/fancybox/jquery.fancybox.min.js"></script>
		<script src="js/front.js"></script>
		<script src="js/include_user_header.js"></script>
		<script >
			function checkUserName() {
				//1.获取用户名值
				var username = $("#userName").val();
				//2.定义正则
				var reg_username = /^\w{8,16}$/;

				//3.判断，给出提示信息
				var flag = reg_username.test(username);
				if(flag){
					//用户名合法
					$("#userName").css("border","");
				}
				else{
					//用户名非法,加一个红色边框
					$("#userName").css("border","1px solid red");
				}

				return flag;
			}

			function checkPassword(){
				//1.获取用户名值
				var password = $("#password").val();
				//2.定义正则
				var reg_password = /^\w{8,16}$/;

				//3.判断，给出提示信息
				var flag = reg_password.test(password);
				if(flag){
					//用户名合法
					$("#password").css("border","");
				}
				else{
					//用户名非法,加一个红色边框
					$("#password").css("border","1px solid red");
				}

				return flag;
			}

			$(function(){
				$("#registe").submit(function () {
					if (checkUserName() && checkPassword()){
						$.post("user/signIn",$(this).serialize(),function (data) {
							if (data.flag){
								location.href = "user_index.html";
							}
							else{
								alert(data.errorMsg);
							}
						});
					}
					return false;
				});

				$("#userName").blur(checkUserName);
				$("#password").blur(checkPassword);
			});
		</script>
	</head>
	<body>
		<!-- 导航栏 -->
		<header class="header" id="user_header">

		</header>

		<section class="newsletter">
			<div class="container">
				<div class="row d-flex justify-content-center">
					<div class="col-md-12">
						<h2 style="text-align: center;">个人博客</h2>	
						<span></span>
					</div>
					<div class="col-md-5">
						<div class="form-holder">
							<form action="" id="registe">
								<div class="form-group">
									<input type="text" id="userName" name="userName" placeholder="账号:">
								</div>
								<div class="form-group">
									<input type="password" id="password" name="password" placeholder="密码:">
								</div>
								<div>
									<span></span>
								</div>
								<div class="form-group">
									<button type="submit" id="" name="" class="submit btn-block">登录</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</section>

	</body>
</html>
